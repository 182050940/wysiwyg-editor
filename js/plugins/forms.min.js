/*!
 * froala_editor v2.2.1 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){"use strict";a.extend(a.FE.POPUP_TEMPLATES,{"forms.editInput":"[_PLACEHOLDER_LAYER_]"}),a.FE.PLUGINS.forms=function(b){function c(b){b.preventDefault(),a(this).data("mousedown",!0)}function d(){var a=b.popups.get("forms.editInput");m?a.find('input[type="text"][name="placeholder"]').val(m.attr("placeholder")):a.find('input[type="text"][name="placeholder"]').val(m.attr("")),a.find('input[type="text"][name="placeholder"]').trigger("change")}function e(){var a=b.popups.get("forms.editInput");m&&(m.attr("placeholder",a.find('input[type="text"][name="placeholder"]').val()),b.popups.hide("forms.editInput"))}function f(a){if(a)return b.popups.onRefresh("forms.editInput",d),!0;var c=0,e='<div class="fr-layer fr-input-placeholder-layer fr-active">';e+='<div class="fr-input-line"><input name="placeholder" type="text" placeholder="Placeholder Text" tabIndex="'+ ++c+'"></div>',e+='<div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="'+ ++c+'" type="button">'+b.language.translate("Update")+"</button></div>",e+="</div>";var f={placeholder_layer:e},g=b.popups.create("forms.editInput",f);return g}function g(){var c=b.popups.get("forms.editInput");c||(c=f()),b.popups.setContainer("forms.editInput",a(b.opts.scrollableContainer)),b.popups.refresh("forms.editInput");var d=m.offset().left+m.outerWidth()/2,e=m.offset().top+m.outerHeight();b.popups.show("forms.editInput",d,e,m.outerHeight())}function h(b){a(this).data("mousedown")&&(b.stopPropagation(),a(this).removeData("mousedown"),m=a(this),g()),b.preventDefault()}function i(){b.$el.find("input, textarea").removeData("mousedown")}function j(){a(this).removeData("mousedown")}function k(){b.events.$on(b.$el,b._mousedown,"input, textarea",c),b.events.$on(b.$el,b._mouseup,"input, textarea",h),b.events.$on(b.$el,"touchmove","input, textarea",j),b.events.$on(b.$el,b._mouseup,i),b.events.$on(b.$win,b._mouseup,i),f(!0)}function l(){k(),b.events.$on(b.$el,"submit","form",function(a){return a.preventDefault(),!1})}var m;return{_init:l,updateInput:e}},a.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}})});